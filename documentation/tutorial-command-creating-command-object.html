<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tutorial: Creating command object - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Command.html">Command</a><ul class='methods'><li data-type='method'><a href="Command.html#_apply">_apply</a></li><li data-type='method'><a href="Command.html#execute">execute</a></li><li data-type='method'><a href="Command.html#undo">undo</a></li><li data-type='method'><a href="Command.html#undoable">undoable</a></li></ul></li><li><a href="Commands.html">Commands</a><ul class='methods'><li data-type='method'><a href="Commands.html#execute">execute</a></li><li data-type='method'><a href="Commands.html#pushHistory">pushHistory</a></li><li data-type='method'><a href="Commands.html#undo">undo</a></li></ul></li><li><a href="Entity.html">Entity</a><ul class='methods'><li data-type='method'><a href="Entity.html#._defineGettersSetters">_defineGettersSetters</a></li><li data-type='method'><a href="Entity.html#.initConstructor">initConstructor</a></li><li data-type='method'><a href="Entity.html#buildSnapshot">buildSnapshot</a></li><li data-type='method'><a href="Entity.html#init">init</a></li><li data-type='method'><a href="Entity.html#isValid">isValid</a></li><li data-type='method'><a href="Entity.html#push">push</a></li><li data-type='method'><a href="Entity.html#replay">replay</a></li><li data-type='method'><a href="Entity.html#setEvents">setEvents</a></li><li data-type='method'><a href="Entity.html#setSnapshot">setSnapshot</a></li></ul></li><li><a href="EventSourcing.html">EventSourcing</a><ul class='methods'><li data-type='method'><a href="EventSourcing.html#buildSnapshot">buildSnapshot</a></li><li data-type='method'><a href="EventSourcing.html#init">init</a></li><li data-type='method'><a href="EventSourcing.html#push">push</a></li><li data-type='method'><a href="EventSourcing.html#replay">replay</a></li><li data-type='method'><a href="EventSourcing.html#setEvents">setEvents</a></li><li data-type='method'><a href="EventSourcing.html#setSnapshot">setSnapshot</a></li></ul></li><li><a href="Mapper.html">Mapper</a></li><li><a href="MapperMongoDb.html">MapperMongoDb</a><ul class='methods'><li data-type='method'><a href="MapperMongoDb.html#close">close</a></li><li data-type='method'><a href="MapperMongoDb.html#connect">connect</a></li><li data-type='method'><a href="MapperMongoDb.html#deleteObject">deleteObject</a></li><li data-type='method'><a href="MapperMongoDb.html#getObject">getObject</a></li><li data-type='method'><a href="MapperMongoDb.html#getObjectCollection">getObjectCollection</a></li><li data-type='method'><a href="MapperMongoDb.html#getObjectCollectionName">getObjectCollectionName</a></li><li data-type='method'><a href="MapperMongoDb.html#saveObject">saveObject</a></li></ul></li><li><a href="Queue.html">Queue</a><ul class='methods'><li data-type='method'><a href="Queue.html#connect">connect</a></li></ul></li><li><a href="QueueAmqp.html">QueueAmqp</a><ul class='methods'><li data-type='method'><a href="QueueAmqp.html#ack">ack</a></li><li data-type='method'><a href="QueueAmqp.html#close">close</a></li><li data-type='method'><a href="QueueAmqp.html#connect">connect</a></li><li data-type='method'><a href="QueueAmqp.html#connectRxTx">connectRxTx</a></li><li data-type='method'><a href="QueueAmqp.html#emit">emit</a></li><li data-type='method'><a href="QueueAmqp.html#nack">nack</a></li><li data-type='method'><a href="QueueAmqp.html#on">on</a></li><li data-type='method'><a href="QueueAmqp.html#onClose">onClose</a></li></ul></li><li><a href="QueueRedis.html">QueueRedis</a><ul class='methods'><li data-type='method'><a href="QueueRedis.html#close">close</a></li><li data-type='method'><a href="QueueRedis.html#connect">connect</a></li><li data-type='method'><a href="QueueRedis.html#emit">emit</a></li><li data-type='method'><a href="QueueRedis.html#on">on</a></li></ul></li><li><a href="QueueWebSocket.html">QueueWebSocket</a><ul class='methods'><li data-type='method'><a href="QueueWebSocket.html#.portInUse">portInUse</a></li><li data-type='method'><a href="QueueWebSocket.html#broadcast">broadcast</a></li><li data-type='method'><a href="QueueWebSocket.html#close">close</a></li><li data-type='method'><a href="QueueWebSocket.html#connect">connect</a></li><li data-type='method'><a href="QueueWebSocket.html#connectServer">connectServer</a></li><li data-type='method'><a href="QueueWebSocket.html#emit">emit</a></li><li data-type='method'><a href="QueueWebSocket.html#on">on</a></li><li data-type='method'><a href="QueueWebSocket.html#onClose">onClose</a></li><li data-type='method'><a href="QueueWebSocket.html#onMessage">onMessage</a></li><li data-type='method'><a href="QueueWebSocket.html#reconnect">reconnect</a></li></ul></li><li><a href="Validator.html">Validator</a><ul class='methods'><li data-type='method'><a href="Validator.html#addSchema">addSchema</a></li><li data-type='method'><a href="Validator.html#getClassName">getClassName</a></li><li data-type='method'><a href="Validator.html#getSchema">getSchema</a></li><li data-type='method'><a href="Validator.html#isValid">isValid</a></li></ul></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-command-creating-command-object.html">Creating command object</a></li><li><a href="tutorial-command_.html">Command</a></li><li><a href="tutorial-index_.html">Index</a></li><li><a href="tutorial-queue_.html">Queues</a></li></ul><h3>Global</h3><ul><li><a href="global.html#QUEUE_AMQP_CHANNEL_TYPES">QUEUE_AMQP_CHANNEL_TYPES</a></li><li><a href="global.html#RABBITMQ_BIGWIG_RX_URL">RABBITMQ_BIGWIG_RX_URL</a></li><li><a href="global.html#RABBITMQ_BIGWIG_TX_URL">RABBITMQ_BIGWIG_TX_URL</a></li><li><a href="global.html#REDISCLOUD_URL">REDISCLOUD_URL</a></li><li><a href="global.html#WEBSOCKET_PORT">WEBSOCKET_PORT</a></li><li><a href="global.html#WEBSOCKET_RECONNECT_MAX_ATTEMPTS">WEBSOCKET_RECONNECT_MAX_ATTEMPTS</a></li><li><a href="global.html#WEBSOCKET_RECONNECT_TIMEOUT">WEBSOCKET_RECONNECT_TIMEOUT</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Tutorial: Creating command object</h1>
    

    <section>

<header>
    

    <h2>Creating command object</h2>
</header>

<article>
    <h4>Creating a command object</h4><p>Let say we are wanting to create an object which has undo and redo capabibility,
for example a calculator.</p>
<h5>1. Class creation</h5><p>The first thing to do is to create the class for our editor which will <code>extends</code>
the <a href="./Commands.html">Commands</a> component. This component will add several methods
such as <a href="./Commands.html#execute"><code>execute</code></a>, <a href="./Commands.html#undo"><code>undo</code></a> and
<a href="./Commands.html#redo"><code>redo</code></a>.</p>
<p>We are thus creating a new file, called <code>Editor.class.js</code> with the following
code:</p>
<pre class="prettyprint source lang-js"><code>const Commands = require('@gilles.rasigade/pattern').Commands;

module.exports = class Editor extends Commands {
  constructor(char = '') {
    super();
    this.char = char;
  }
  toString() { return this.char; }

  _add(char = '') {
    this.char += char;
  }
  _remove(char = '') {
    this.char = this.char.slice(0, -char.length);
  }

  add(char) {
    this.execute('_add', [ char ], '_remove', [ char ]);
    return this;
  }
}</code></pre><h5>2. Use example</h5><p>The <a href="./Commands.html">Commands</a> class allows to call methods of the object with
their reverse equivalent. For example, adding 1 to a number can be reverse by
removing 1 from this same number.</p>
<p>In our example, we are wanting to add characters to the editor and remove them
on undo. We can do this thanks to the private methods we defined in the Editor
class <code>_add</code> and <code>_remove</code>.</p>
<pre class="prettyprint source lang-js"><code>const Editor = require('./Editor);

const editor = new Editor();

editor.add('Hello');
editor.add(' World');

console.log(`Current char\t${editor}`);
// Current char: Hello World

editor.undo();

console.log(`After undo\t${editor}`);
// Current char: Hello

editor.redo();

console.log(`After redo\t${editor}`);
// Current char: Hello World</code></pre><p>Other methods can be retained for the <code>_redo</code> method but the result must be the
same.</p>
</article>

</section>

</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sun Jul 24 2016 23:49:06 GMT+0200 (CEST) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>